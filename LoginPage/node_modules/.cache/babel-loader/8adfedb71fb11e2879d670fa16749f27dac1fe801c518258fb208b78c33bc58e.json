{"ast":null,"code":"import React,{useState}from'react';import'./Main.css';import eyeLogo from'./eye.webp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[errorMessage,setErrorMessage]=useState('');const handleEmailChange=event=>{setEmail(event.target.value);};const handlePasswordChange=event=>{setPassword(event.target.value);};const handleSignIn=()=>{if(email.endsWith('buffalo.edu')){fetch('https://www-student.cse.buffalo.edu/CSE442-542/2024-Spring/cse-442ac/backend/login/login.php',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:email,password:password,action:'login'})}).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(data=>{if(data.username&&data.sessionID&&data.userID){// Successful login, redirect to homepage\nwindow.location.href=\"https://www-student.cse.buffalo.edu/CSE442-542/2024-Spring/cse-442ac/StartPage/\";}else{// Login failed, display error message\nsetErrorMessage('Please check your email and password');}}).catch(error=>{// Error occurred during fetch request\nconsole.error('Error:',error);setErrorMessage('An error occurred while trying to sign in');});}else{// Email address is not buffalo.edu\nsetErrorMessage('Please use a buffalo.edu email address to sign in');}};return/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"InSight\"}),\" \",/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:eyeLogo,alt:\"Logo\"})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"separator\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"subtitle\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"textfield\",type:\"email\",value:email,onChange:handleEmailChange,placeholder:\"Enter your email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"textfield\",type:\"password\",value:password,onChange:handlePasswordChange,placeholder:\"Enter your password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"forgot-password\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"link\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"extra-space\"}),/*#__PURE__*/_jsx(\"button\",{className:\"primary\",type:\"button\",onClick:handleSignIn,children:\"Sign In\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errorMessage})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup-link\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"link\",children:[\"New to Insight? \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www-student.cse.buffalo.edu/CSE442-542/2024-Spring/cse-442ac/Signup/\",className:\"link\",children:\"Sign Up\"})]})})]});}export default Main;","map":{"version":3,"names":["React","useState","eyeLogo","jsx","_jsx","jsxs","_jsxs","Main","email","setEmail","password","setPassword","errorMessage","setErrorMessage","handleEmailChange","event","target","value","handlePasswordChange","handleSignIn","endsWith","fetch","method","headers","body","JSON","stringify","username","action","then","response","ok","Error","json","data","sessionID","userID","window","location","href","catch","error","console","className","children","src","alt","type","onChange","placeholder","onClick"],"sources":["/Users/ali/442/my-login/src/components/Main.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './Main.css'; \nimport eyeLogo from './eye.webp';\n\nfunction Main() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const handleEmailChange = (event) => {\n    setEmail(event.target.value);\n  };\n\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value);\n  };\n\n  const handleSignIn = () => {\n    if (email.endsWith('buffalo.edu')) {\n      fetch('https://www-student.cse.buffalo.edu/CSE442-542/2024-Spring/cse-442ac/backend/login/login.php', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          username: email,\n          password: password,\n          action: 'login',\n        }),\n      })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.username && data.sessionID && data.userID) {\n          // Successful login, redirect to homepage\n          window.location.href = \"https://www-student.cse.buffalo.edu/CSE442-542/2024-Spring/cse-442ac/StartPage/\";\n        } else {\n          // Login failed, display error message\n          setErrorMessage('Please check your email and password');\n        }\n      })\n      .catch(error => {\n        // Error occurred during fetch request\n        console.error('Error:', error);\n        setErrorMessage('An error occurred while trying to sign in');\n      });\n    } else {\n      // Email address is not buffalo.edu\n      setErrorMessage('Please use a buffalo.edu email address to sign in');\n    }\n  };\n\n  return (\n    <main className=\"container\">\n      <div className=\"title-container\">\n        <h2 className=\"title\">InSight</h2> <img className=\"logo\" src={eyeLogo} alt=\"Logo\" />\n      </div>\n      <hr className=\"separator\" />\n      <div className=\"space\"></div>\n      <h3 className=\"subtitle\">Sign In</h3>\n      <form className=\"form\">\n        <div className=\"input\">\n          <label className=\"label\">Email</label>\n          <input className=\"textfield\" type=\"email\" value={email} onChange={handleEmailChange} placeholder=\"Enter your email\" />\n        </div>\n        <div className=\"input\">\n          <label className=\"label\">Password</label>\n          <input className=\"textfield\" type=\"password\" value={password} onChange={handlePasswordChange} placeholder=\"Enter your password\" />\n        </div>\n        <div className=\"forgot-password\">\n          <a href=\"#\" className=\"link\"></a>\n        </div>\n        <div className=\"extra-space\"></div>\n        <button className=\"primary\" type=\"button\" onClick={handleSignIn}>Sign In</button>\n        {errorMessage && <p className=\"error\">{errorMessage}</p>}\n      </form>\n      <div className=\"signup-link\">\n        <p className=\"link\">New to Insight? <a href=\"https://www-student.cse.buffalo.edu/CSE442-542/2024-Spring/cse-442ac/Signup/\" className=\"link\">Sign Up</a></p>\n      </div>\n    </main>\n  );\n}\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}